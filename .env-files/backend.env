# ====================================
# CONFIGURATION BACKEND LIFEHUB
# ====================================
# Ce fichier est monté dans le conteneur backend
# Modifiable par l'admin système

# === BASE DE DONNÉES ===
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=lifehub_user
MYSQL_PASSWORD=lifehub_password
MYSQL_DATABASE=lifehub_db
MYSQL_ROOT_PASSWORD=rootpassword

# Pool de connexions
MYSQL_POOL_SIZE=20
MYSQL_MAX_OVERFLOW=30
MYSQL_POOL_TIMEOUT=30
MYSQL_POOL_RECYCLE=3600

# === REDIS CACHE ===
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://redis:6379/0

# Cache settings
REDIS_TIMEOUT=300
REDIS_MAX_CONNECTIONS=100

# === SÉCURITÉ ===
SECRET_KEY=lifehub-super-secret-key-change-in-production-please
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS
FRONTEND_URL=https://localhost
ALLOWED_ORIGINS=https://localhost,https://lifehub.local,http://localhost:5173

# === API CONFIGURATION ===
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api
API_VERSION=v1

# === ENVIRONNEMENT ===
ENVIRONMENT=production
DEBUG=False
LOG_LEVEL=INFO

# === LOGGING ===
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=/app/logs/lifehub.log
LOG_MAX_SIZE=50MB
LOG_BACKUP_COUNT=5

# === EMAIL (si nécessaire) ===
# SMTP_HOST=
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_TLS=true

# === UPLOAD/STOCKAGE ===
UPLOAD_DIR=/app/data/uploads
MAX_UPLOAD_SIZE=10MB
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx

# === PERFORMANCE ===
WORKERS=4
WORKER_CONNECTIONS=1000
KEEPALIVE=2

# === MONITORING ===
ENABLE_METRICS=true
METRICS_PORT=9090

# === FEATURES ===
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_RATE_LIMITING=true

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# === BACKUP ===
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# ====================================
# NOTES ADMIN:
# - Redémarrer le conteneur backend après modification
# - Les mots de passe doivent être changés en production
# - Les logs sont dans backend/volumes/logs/
# - Les uploads dans backend/volumes/data/
# ==================================== 